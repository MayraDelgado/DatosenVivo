<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DatosEnVivoSuntech</title>


  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->

  <!-- build:js scripts/vendor.js -->
  <!-- bower:js -->
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:js scripts/main.js -->
  <script src="scripts/main.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.7/angular-material.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular-aria.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular-animate.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.7/angular-material.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/angular-material-data-table/0.10.10/md-data-table.min.css" rel="stylesheet" type="text/css"  />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-material-data-table/0.10.10/md-data-table.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@3.1.1/dist/sweetalert2.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@3.1.1/dist/sweetalert2.js"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script-->
  <script src="https://cdn.rawgit.com/rainabba/jquery-table2excel/1.1.0/dist/jquery.table2excel.min.js"></script>
  <script src="scripts/datosController.js"></script>

  <!-- endbuild -->

</head>

<body>

  <div id="datosEnVivoSuntech" class="hidden">

    <header class="geotabPageHeader">
      <h1 class="geotabPageName">Live Data
        <span class="subdued">Suntech ☼</span>
      </h1>
      <!--div class="pageNameSecondary">
        <h3 class="geotabSecondaryTitle">by:
          <span id="datosEnVivoSuntech-user"></span>
        </h3>
      </div-->
    </header>

    <!--inicia codigo datos en vivo Suntech-->
    <div layout="row" layout-md="column" ng-controller="accesoDatosController">
      <div flex layout="column" style="height: 400px;">
        <br>
        <br>

        <!--card-->
        <!-- Example 1 -->
        <md-card>
          <md-card-title>
            <md-card-title-media>
              <div class="md-media-sm card-media" layout>
                <!--md-icon md-svg-icon="person" style="color:grey"></md-icon-->
              </div>
            </md-card-title-media>
            <md-card-title-text>
              <div flex>
                <div layout="row" layout-wrap>
                  <div flex="30">
                    <div flex>
                      <center>
                        <div layout="row ">
                          <md-input-container flex="80">
                            <br>
                            <label>DeviceId</label>
                            <input id="dispositivoIngresado" name="clientName" ng-model="dispositivoIngresado">
                            <!--small class="md-caption ">
                              <md-tooltip md-direction="top" md-visible="tooltipVisible">Doble clic en la pantalla para cerrar lista de vehículos</md-tooltip>
                              <md-select multiple id="select" name="field " ng-model="dispositivoSeleccionado
                                          " placeholder="Buscar Vehículos... " data-md-container-class="selectdemoSelectHeader "
                                ng-init="showOptions = true" my-on-focus="showOptions" md-on-close="showOptions=false">
                                <md-select-header layout="column " class="demo-select-header " id="divFechas ">
                                  <md-input-container>
                                    <input id="select2" ng-model="busqueda " type="search " ng-model-options="{debounce: { 'default': 1000,
                                          'blur': 0}} " placeholder="Buscar Vehículos... " class="demo-header-searchbox md-text "
                                      ng-keydown="updateSearch($event) " />
                                  </md-input-container>
                                </md-select-header>
                                <md-option ng-repeat="dispositivo in lstDeviceGeotab | filter: busqueda " ng-value="{{dispositivo}} ">{{dispositivo.name}}</md-option>
                              </md-select>
                              <div ng-messages="form.field.$error ">
                              </div>
                            </small-->
                          </md-input-container>
                        </div>
                      </center>
                    </div>
                  </div>
                  <div flex="30">
                    <br>
                    <md-input-container>
                      <div flex-gt-xs>
                        <md-datepicker ng-model="Data.start" md-current-view="year" md-placeholder="Enter date"></md-datepicker>
                      </div>
                    </md-input-container>
                  </div>
                  <div flex="30">
                    <br>
                    <md-input-container>
                      <div flex-gt-xs>
                        <md-datepicker ng-model="Data.end" md-current-view="year" md-placeholder="Enter date"></md-datepicker>
                      </div>
                    </md-input-container>
                  </div>
                  <div flex="10">
                    <br>
                    <br>
                    <md-button class="md-raised md-primary" ng-click="vehiculosReport1()">
                      <span class="md-caption">Consultar</span>
                    </md-button>
                  </div>
                </div>
              </div>
            </md-card-title-text>
          </md-card-title>
        </md-card>
        <div layout="row">
          <div flex-gt-sm="66" flex="33">
            <p class="md-body-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Datos de consulta...
              <md-button class="md-raised md-primary" ng-click="btnImprimir()">
                <span class="md-caption">Descargar</span>
              </md-button>
            </p>
          </div>
        </div>
        <div layout="row" layout-xs="column">
          <div flex>
            <md-table-container>
              <!--ng-model="selected " esto va en la tabla-->
              <table md-table ng-model="selected" md-row-select md-progress="promise " id="fechaDevice" style="width:100% ">
                <thead md-head>
                  <tr md-row>
                    <th md-column md-numeric>Id</th>
                    <!--th md-column md-numeric>VIN </th-->
                    <!--th md-column md-numeric>Económico </th-->
                    <th md-column md-numeric>Numero de serie</th>
                    <th md-column md-numeric>Ultima comunicacion Geotab</th>
                    <th md-column md-numeric>Fecha inicio de consulta</th>
                    <th md-column md-numeric>Fecha fin de consulta</th>
                    <th md-column md-numeric>Geotab boton de panico</th>
                    <th md-column md-numeric>Cinturon de seguridad</th>
                    <th md-column md-numeric>Reversa</th>
                    <th md-column md-numeric>Aux 5</th>
                    <th md-column md-numeric>Aux 6</th>
                    <th md-column md-numeric>Aux 7</th>
                    <th md-column md-numeric>Aux 8</th>
                    <th md-column md-numeric>Circulo de seguridad</th>
                    <th md-column md-numeric>sunTech Id</th>
                    <th md-column md-numeric>sunTech Boton de panico</th>
                    <th md-column md-numeric>Llamada en cabina</th>
                  </tr>
                </thead>
                <tbody md-body>
                  <tr md-row md-select-id="name " md-auto-select ng-repeat="dispositivo in resultConsultaVehiculos track by $index ">
                    <td md-cell>{{dispositivo.GOId}}</td>
                    <!--td md-cell>{{dispositivo.vehicleIdentificationNumber}}</td-->
                    <!--td>{{lstDevice.name}}</td-->
                    <td md-cell>{{dispositivo.GOSerialNumber}}</td>
                    <td md-cell>{{dispositivo.LastCommunication}}</td>
                    <td md-cell>{{Data.start}}</td>
                    <td md-cell>{{Data.end}}</td>
                    <td md-cell>{{dispositivo.GOPanicButton}}</td>
                    <td md-cell>{{dispositivo.GOBelt}}</td>
                    <td md-cell>{{dispositivo.GOReverse}}</td>
                    <td md-cell>{{dispositivo.GOButton1}}</td>
                    <td md-cell>{{dispositivo.GOButton2}}</td>
                    <td md-cell>{{dispositivo.GOButton3}}</td>
                    <td md-cell>{{dispositivo.GOButton4}}</td>
                    <td md-cell>{{dispositivo.GOSafetyCircle}}</td>
                    <td md-cell>{{dispositivo.SunTechId}}</td>
                    <td md-cell>{{dispositivo.SunTechPanicButton}}</td>
                    <td md-cell>{{dispositivo.SunTechCalls}}</td>
                  </tr>
                </tbody>
              </table>
            </md-table-container>

          </div>
        </div>

      </div>

    </div>
    <!--fin codigo datos en vivo Suntech-->
  </div>

</body>

</html>
